(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(3),i=t.n(o),c=(t(8),t(0));var s=function(){return Object(c.jsx)("header",{children:"BATTLESHIP"})};t(10);var l=function(e){for(var n=["0","1","2","3","4","5","6","7","8","9"],t=["0","1","2","3","4","5","6","7","8","9"],r=[],a=0;a<n.length;a++)for(var o=0;o<t.length;o++)r.push(n[a]+t[o]);return Object(c.jsxs)("div",{className:"Grid-container",children:[Object(c.jsx)("div",{className:"Grid-coord-top",children:["","A","B","C","D","E","F","G","H","I","J"].map((function(n){return Object(c.jsx)("div",{children:n},"".concat(e.player,"-coord-").concat(n))}))}),Object(c.jsx)("div",{className:"Grid-coord-left",children:["1","2","3","4","5","6","7","8","9","10"].map((function(n){return Object(c.jsx)("div",{children:n},"".concat(e.player,"-coord-").concat(n))}))}),Object(c.jsx)("div",{className:"Grid ".concat(e.player),children:r.map((function(n){return Object(c.jsx)("div",{id:"".concat(e.player,"-").concat(n)},"".concat(e.player,"-").concat(n))}))}),Object(c.jsx)("div",{className:"Grid-description",children:e.description})]})};var u=function(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=[],a=0;a<e;a++)"horizontal"===t?r.push({x:n.x+a,y:n.y,hit:!1}):r.push({x:n.x,y:n.y+a,hit:!1});function o(n){for(var t=0;t<e;t++)r[t].x===n.x&&r[t].y===n.y&&(r[t].hit=!0)}function i(){return r.every((function(e){return!0===e.hit}))}return{length:e,squares:r,hit:o,isSunk:i}};function d(e){var n=e.squares[e.length-1];return n.x>9||n.y>9}function p(e,n){for(var t=0;t<e.length;t++)for(var r=0;r<n.length;r++)for(var a=0;a<n[r].squares.length;a++)if(e[t].x===n[r].squares[a].x&&e[t].y===n[r].squares[a].y)return!0;return!1}function y(e,n){for(var t=0;t<e.squares.length;t++){if(p([{x:(r=e.squares[t]).x,y:r.y-1},{x:r.x,y:r.y+1},{x:r.x-1,y:r.y},{x:r.x+1,y:r.y},{x:r.x-1,y:r.y-1},{x:r.x-1,y:r.y+1},{x:r.x+1,y:r.y-1},{x:r.x+1,y:r.y+1}],n))return!0}var r;return!1}var h=function(e,n,t){for(var r=[],a=0;a<10;a++)for(var o=0;o<10;o++){var i={x:o,y:a},c=u(e,i,t);!0!==d(c)&&(!0!==p(c.squares,n)&&!0!==y(c,n)&&r.push(i))}return r};var v=function(){var e=[];return[4,3,3,2,2,2,1,1,1,1].forEach((function(n){return function(n){var t=0===Math.floor(2*Math.random())?"horizontal":"vertical",r=h(n,e,t),a=r[Math.floor(Math.random()*r.length)];e.push(u(n,a,t))}(n)})),{ships:e}};var f=function(e){for(var n=v().ships,t=[],r=0;r<10;r++)for(var a=0;a<10;a++)t.push({x:a,y:r});function o(){document.querySelector(".".concat(e)).querySelectorAll(".ship").forEach((function(e){e.classList.remove("ship")}))}function i(){n.forEach((function(n){n.squares.forEach((function(n){document.querySelector("#".concat(e,"-").concat(n.x).concat(n.y)).classList.add("ship")}))}))}return o(),i(),{name:e,board:n,playedSquare:{},availablePlays:t,getHit:function(t){var r=document.querySelector("#".concat(e,"-").concat(t.x).concat(t.y));r.classList.add("hit"),"ship"===r.classList[0]&&n.forEach((function(n){n.hit(t),n.isSunk()&&n.squares.forEach((function(n){document.querySelector("#".concat(e,"-").concat(n.x).concat(n.y)).classList.add("sunk")}))}))},removeAvailablePlay:function(e){for(var n=0;n<t.length;n++)if(e.x===t[n].x&&e.y===t[n].y)return void t.splice(n,1)},sunkAllShips:function(){if(n.every((function(e){return!0===e.isSunk()})))return!0},randomizeBoard:function(){o(),n=v().ships,i()}}};var x=function(){var e=f("player1"),n=f("player2"),t=document.querySelector(".player2").querySelectorAll("div");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t)return e===n.name?"All your opponent's ships sunk. You won!":"All your ships ships sunk. Your opponent won!";var r=document.querySelector("#".concat(e,"-").concat(t.x).concat(t.y));return e===n.name?r.classList.contains("sunk")?"You sunk one of your opponent's ships.":r.classList.contains("ship")?"You hit one of your opponent's ships.":"You missed.":r.classList.contains("sunk")?"Your opponent sunk one of your ships.":r.classList.contains("ship")?"Your opponent hit one of your ships.":"Your opponent missed."}return{player1:e,player2:n,addEventToDivs:function(a){t.forEach((function(t){t.addEventListener("click",(function o(){if(a)if(e.sunkAllShips()||n.sunkAllShips())t.removeEventListener("click",o);else{var i=document.querySelector(".info-display");if(e.playedSquare={x:Number(t.id.slice(8).split("")[0]),y:Number(t.id.slice(8).split("")[1])},e.removeAvailablePlay(e.playedSquare),n.getHit(e.playedSquare),n.sunkAllShips()){t.removeEventListener("click",o),i.textContent=r(n.name);var c=document.querySelector(".play-again-btn");return c.disabled=!1,void c.addEventListener("click",(function(){return window.location.reload(),!1}))}if(n.playedSquare=n.availablePlays[Math.floor(Math.random()*n.availablePlays.length)],n.removeAvailablePlay(n.playedSquare),e.getHit(n.playedSquare),e.sunkAllShips()){t.removeEventListener("click",o),i.textContent=r(e.name);var s=document.querySelector(".play-again-btn");return s.disabled=!1,void s.addEventListener("click",(function(){return window.location.reload(),!1}))}i.textContent=r(n.name,e.playedSquare)+" "+r(e.name,n.playedSquare),t.removeEventListener("click",o)}}))}))}}};t(11);var m=function(){return Object(r.useEffect)((function(){var e=x(),n=document.querySelector(".randomize-btn");n.addEventListener("click",e.player1.randomizeBoard);var t=document.querySelector(".start-btn");t.addEventListener("click",(function(){e.addEventToDivs(!0),t.disabled=!0,n.disabled=!0}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(s,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"game-container",children:[Object(c.jsx)(l,{player:"player1",description:"Your grid"}),Object(c.jsx)(l,{player:"player2",description:"Opponent's grid"})]}),Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsx)("div",{className:"info-display"}),Object(c.jsxs)("div",{className:"button-container",children:[Object(c.jsx)("button",{type:"button",className:"randomize-btn",children:"Randomize Grid"}),Object(c.jsx)("button",{type:"button",className:"start-btn",children:"Start Game"}),Object(c.jsx)("button",{type:"button",disabled:!0,className:"play-again-btn",children:"Play Again"})]})]})]})]})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.d2b0e029.chunk.js.map